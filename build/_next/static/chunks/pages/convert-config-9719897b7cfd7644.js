(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{7598:function(e,t,n){"use strict";var r=n(7462),a=n(3366),o=n(7294),l=n(3935),s=n(67),i=n(8290),c=n(7596),u=n(6600),d=n(5893);const f=["onChange","maxRows","minRows","style","value"];function h(e,t){return parseInt(e[t],10)||0}const p={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function b(e){return void 0===e||null===e||0===Object.keys(e).length}const m=o.forwardRef((function(e,t){const{onChange:n,maxRows:m,minRows:g=1,style:x,value:v}=e,Z=(0,a.Z)(e,f),{current:y}=o.useRef(null!=v),w=o.useRef(null),k=(0,s.Z)(t,w),R=o.useRef(null),C=o.useRef(0),[E,N]=o.useState({}),j=o.useCallback((()=>{const t=w.current,n=(0,i.Z)(t).getComputedStyle(t);if("0px"===n.width)return{};const r=R.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const a=n["box-sizing"],o=h(n,"padding-bottom")+h(n,"padding-top"),l=h(n,"border-bottom-width")+h(n,"border-top-width"),s=r.scrollHeight;r.value="x";const c=r.scrollHeight;let u=s;g&&(u=Math.max(Number(g)*c,u)),m&&(u=Math.min(Number(m)*c,u)),u=Math.max(u,c);return{outerHeightStyle:u+("border-box"===a?o+l:0),overflow:Math.abs(u-s)<=1}}),[m,g,e.placeholder]),S=(e,t)=>{const{outerHeightStyle:n,overflow:r}=t;return C.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(C.current+=1,{overflow:r,outerHeightStyle:n}):e},A=o.useCallback((()=>{const e=j();b(e)||N((t=>S(t,e)))}),[j]);o.useEffect((()=>{const e=(0,c.Z)((()=>{C.current=0,w.current&&(()=>{const e=j();b(e)||(0,l.flushSync)((()=>{N((t=>S(t,e)))}))})()})),t=(0,i.Z)(w.current);let n;return t.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(n=new ResizeObserver(e),n.observe(w.current)),()=>{e.clear(),t.removeEventListener("resize",e),n&&n.disconnect()}})),(0,u.Z)((()=>{A()})),o.useEffect((()=>{C.current=0}),[v]);return(0,d.jsxs)(o.Fragment,{children:[(0,d.jsx)("textarea",(0,r.Z)({value:v,onChange:e=>{C.current=0,y||A(),n&&n(e)},ref:k,rows:g,style:(0,r.Z)({height:E.outerHeightStyle,overflow:E.overflow?"hidden":null},x)},Z)),(0,d.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:R,tabIndex:-1,style:(0,r.Z)({},p,x,{padding:0})})]})}));t.Z=m},4050:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/convert-config",function(){return n(3371)}])},3371:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(7568),a=n(603),o=n(4051),l=n.n(o),s=n(5893),i=n(7294),c=n(3156),u=n(5861),d=n(7357),f=n(7598),h=n(460),p=n.n(h),b=n(8325),m=(n(5433),n(3335),n(2427),n(3321)),g=n(2844),x=n(5730);function v(){var e=(0,a.Z)(i.useState(""),2),t=e[0],n=e[1],o=(0,a.Z)(i.useState(),2),h=o[0],v=o[1],Z=i.useCallback((function(e){n(e)}),[]),y=i.useCallback((function(e){return(0,b.highlight)(e,b.languages.log)}),[]),w=i.useCallback(function(){var e=(0,r.Z)(l().mark((function e(n){var r,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Request("/adapt",{method:"POST",headers:{"Content-Type":"text/caddyfile"},body:t}),e.next=3,fetch(r);case 3:return a=e.sent,e.next=6,a.json();case 6:o=e.sent,console.log(o),v(o);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.Z,{}),(0,s.jsx)(c.Z,{maxWidth:"lg",children:(0,s.jsxs)(d.Z,{sx:{my:4},children:[(0,s.jsx)(u.Z,{variant:"h4",component:"h1",gutterBottom:!0,children:"Caddy Server Load"}),(0,s.jsx)(u.Z,{variant:"p",component:"p",gutterBottom:!0,children:(0,s.jsx)(m.Z,{variant:"contained",onClick:w,children:"Convert"})}),(0,s.jsx)(u.Z,{variant:"p",component:"p",gutterBottom:!0,children:(0,s.jsx)(p(),{onValueChange:Z,value:t,highlight:y,padding:10,style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:16,border:"1px solid #aaa"}})}),(0,s.jsx)(u.Z,{variant:"p",component:"p",gutterBottom:!0,children:(0,s.jsx)(f.Z,{style:{width:"100%"},value:JSON.stringify(h,null,2)})}),(0,s.jsx)(x.Z,{})]})})]})}},2844:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(603),a=n(7297),o=n(5944),l=n(917),s=n(7294),i=n(2293),c=n(7357),u=n(155),d=n(3946),f=n(5861),h=n(517),p=n(326),b=n(3156),m=n(3321),g=n(5819),x=n(3960),v=n(4924),Z=n(6042),y=n(9534),w=n(5893),k=n(5697),R=n.n(k),C=n(6010),E=n(1163),N=n(1664),j=n.n(N),S=n(3795),A=(0,n(948).ZP)("a")({}),T=s.forwardRef((function(e,t){var n=e.to,r=e.linkAs,a=e.replace,o=e.scroll,l=e.shallow,s=e.prefetch,i=e.locale,c=(0,y.Z)(e,["to","linkAs","replace","scroll","shallow","prefetch","locale"]);return(0,w.jsx)(j(),{href:n,prefetch:s,as:r,replace:a,scroll:o,shallow:l,passHref:!0,locale:i,children:(0,w.jsx)(A,(0,Z.Z)({ref:t},c))})}));T.propTypes={href:R().any,linkAs:R().oneOfType([R().object,R().string]),locale:R().string,passHref:R().bool,prefetch:R().bool,replace:R().bool,scroll:R().bool,shallow:R().bool,to:R().oneOfType([R().object,R().string]).isRequired};var z=s.forwardRef((function(e,t){var n=e.activeClassName,r=void 0===n?"active":n,a=e.as,o=e.className,l=e.href,s=e.linkAs,i=e.locale,c=e.noLinkStyle,u=e.prefetch,d=e.replace,f=(e.role,e.scroll),h=e.shallow,p=(0,y.Z)(e,["activeClassName","as","className","href","linkAs","locale","noLinkStyle","prefetch","replace","role","scroll","shallow"]),b=(0,E.useRouter)(),m="string"===typeof l?l:l.pathname,g=(0,C.Z)(o,(0,v.Z)({},r,b.pathname===m&&r));if("string"===typeof l&&(0===l.indexOf("http")||0===l.indexOf("mailto:")))return c?(0,w.jsx)(A,(0,Z.Z)({className:g,href:l,ref:t},p)):(0,w.jsx)(S.Z,(0,Z.Z)({className:g,href:l,ref:t},p));var x={to:l,linkAs:s||a,replace:d,scroll:f,shallow:h,prefetch:u,locale:i};return c?(0,w.jsx)(T,(0,Z.Z)({className:g,ref:t},x,p)):(0,w.jsx)(S.Z,(0,Z.Z)({component:T,className:g,ref:t},x,p))}));z.propTypes={activeClassName:R().string,as:R().oneOfType([R().object,R().string]),className:R().string,href:R().any,linkAs:R().oneOfType([R().object,R().string]),locale:R().string,noLinkStyle:R().bool,prefetch:R().bool,replace:R().bool,role:R().string,scroll:R().bool,shallow:R().bool};var O=z;function F(){var e=(0,a.Z)(["\n                      color: inherit;\n                    "]);return F=function(){return e},e}function M(){var e=(0,a.Z)(["\n                    color: inherit;\n                  "]);return M=function(){return e},e}var I=[{name:"Upstream",href:"/upstream"},{name:"PKI",href:"/pki-view"},{name:"Load",href:"/setup"},{name:"Adapt",href:"/convert-config"},{name:"Metrics",href:"/monitor"}],_=function(){var e=(0,r.Z)(s.useState(null),2),t=e[0],n=e[1],a=function(){n(null)};return(0,o.tZ)(i.Z,{position:"static",children:(0,o.tZ)(b.Z,{maxWidth:"lg",children:(0,o.BX)(u.Z,{disableGutters:!0,children:[(0,o.tZ)(x.Z,{sx:{display:{xs:"none",md:"flex"},mr:1}}),(0,o.tZ)(f.Z,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Caddy Config"}),(0,o.BX)(c.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[(0,o.tZ)(d.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){n(e.currentTarget)},color:"inherit",children:(0,o.tZ)(p.Z,{})}),(0,o.tZ)(h.Z,{id:"menu-appbar",anchorEl:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(t),onClose:a,sx:{display:{xs:"block",md:"none"}},children:I.map((function(e){return(0,o.tZ)(g.Z,{onClick:a,children:(0,o.tZ)(O,{href:e.href,css:(0,l.iv)(F()),children:(0,o.tZ)(f.Z,{textAlign:"center",children:e.name})})},e.name)}))})]}),(0,o.tZ)(x.Z,{sx:{display:{xs:"flex",md:"none"},mr:1}}),(0,o.tZ)(f.Z,{variant:"h5",noWrap:!0,component:"a",href:"",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Caddy Config"}),(0,o.tZ)(c.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:I.map((function(e){return(0,o.tZ)(m.Z,{onClick:a,sx:{my:2,color:"white",display:"block"},children:(0,o.tZ)(O,{href:e.href,css:(0,l.iv)(M()),children:e.name})},e.name)}))})]})})})}},5730:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(5893),a=(n(7294),n(5861)),o=n(3795);function l(){return(0,r.jsxs)(a.Z,{variant:"body2",color:"text.secondary",align:"center",children:["Copyright \xa9 ",(0,r.jsx)(o.Z,{color:"inherit",href:"https://github.com/gsmlg-dev/",children:"GSMLG-DEV"})," ",(new Date).getFullYear(),"."]})}},3335:function(){Prism.languages.log={string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?![st] | \w)(?:[^'\\\r\n]|\\.)*'/,greedy:!0},exception:{pattern:/(^|[^\w.])[a-z][\w.]*(?:Error|Exception):.*(?:(?:\r\n?|\n)[ \t]*(?:at[ \t].+|\.{3}.*|Caused by:.*))+(?:(?:\r\n?|\n)[ \t]*\.\.\. .*)?/,lookbehind:!0,greedy:!0,alias:["javastacktrace","language-javastacktrace"],inside:Prism.languages.javastacktrace||{keyword:/\bat\b/,function:/[a-z_][\w$]*(?=\()/,punctuation:/[.:()]/}},level:[{pattern:/\b(?:ALERT|CRIT|CRITICAL|EMERG|EMERGENCY|ERR|ERROR|FAILURE|FATAL|SEVERE)\b/,alias:["error","important"]},{pattern:/\b(?:WARN|WARNING|WRN)\b/,alias:["warning","important"]},{pattern:/\b(?:DISPLAY|INF|INFO|NOTICE|STATUS)\b/,alias:["info","keyword"]},{pattern:/\b(?:DBG|DEBUG|FINE)\b/,alias:["debug","keyword"]},{pattern:/\b(?:FINER|FINEST|TRACE|TRC|VERBOSE|VRB)\b/,alias:["trace","comment"]}],property:{pattern:/((?:^|[\]|])[ \t]*)[a-z_](?:[\w-]|\b\/\b)*(?:[. ]\(?\w(?:[\w-]|\b\/\b)*\)?)*:(?=\s)/im,lookbehind:!0},separator:{pattern:/(^|[^-+])-{3,}|={3,}|\*{3,}|- - /m,lookbehind:!0,alias:"comment"},url:/\b(?:file|ftp|https?):\/\/[^\s|,;'"]*[^\s|,;'">.]/,email:{pattern:/(^|\s)[-\w+.]+@[a-z][a-z0-9-]*(?:\.[a-z][a-z0-9-]*)+(?=\s)/,lookbehind:!0,alias:"url"},"ip-address":{pattern:/\b(?:\d{1,3}(?:\.\d{1,3}){3})\b/,alias:"constant"},"mac-address":{pattern:/\b[a-f0-9]{2}(?::[a-f0-9]{2}){5}\b/i,alias:"constant"},domain:{pattern:/(^|\s)[a-z][a-z0-9-]*(?:\.[a-z][a-z0-9-]*)*\.[a-z][a-z0-9-]+(?=\s)/,lookbehind:!0,alias:"constant"},uuid:{pattern:/\b[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\b/i,alias:"constant"},hash:{pattern:/\b(?:[a-f0-9]{32}){1,2}\b/i,alias:"constant"},"file-path":{pattern:/\b[a-z]:[\\/][^\s|,;:(){}\[\]"']+|(^|[\s:\[\](>|])\.{0,2}\/\w[^\s|,;:(){}\[\]"']*/i,lookbehind:!0,greedy:!0,alias:"string"},date:{pattern:RegExp(/\b\d{4}[-/]\d{2}[-/]\d{2}(?:T(?=\d{1,2}:)|(?=\s\d{1,2}:))/.source+"|"+/\b\d{1,4}[-/ ](?:\d{1,2}|Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)[-/ ]\d{2,4}T?\b/.source+"|"+/\b(?:(?:Fri|Mon|Sat|Sun|Thu|Tue|Wed)(?:\s{1,2}(?:Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep))?|Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)\s{1,2}\d{1,2}\b/.source,"i"),alias:"number"},time:{pattern:/\b\d{1,2}:\d{1,2}:\d{1,2}(?:[.,:]\d+)?(?:\s?[+-]\d{2}:?\d{2}|Z)?\b/,alias:"number"},boolean:/\b(?:false|null|true)\b/i,number:{pattern:/(^|[^.\w])(?:0x[a-f0-9]+|0o[0-7]+|0b[01]+|v?\d[\da-f]*(?:\.\d+)*(?:e[+-]?\d+)?[a-z]{0,3}\b)\b(?!\.\w)/i,lookbehind:!0},operator:/[;:?<=>~/@!$%&+\-|^(){}*#]/,punctuation:/[\[\].,]/}}},function(e){e.O(0,[960,150,774,888,179],(function(){return t=4050,e(e.s=t);var t}));var t=e.O();_N_E=t}]);