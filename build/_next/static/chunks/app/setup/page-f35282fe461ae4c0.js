(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{2554:(e,a,l)=>{"use strict";l.d(a,{Adapt:()=>r});var s=l(5155),t=l(2115);let r=e=>{let[a,l]=(0,t.useState)(null);return(0,s.jsx)("div",{className:"card shadow-lg shadow-primary m-4",children:(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsxs)("h3",{className:"card-title",children:["Convert ",(0,s.jsx)("code",{children:"Caddyfile"})," to ",(0,s.jsx)("code",{children:"JSON"})]}),(0,s.jsxs)("div",{className:"w-full flex flex-row gap-4",children:[(0,s.jsxs)("form",{className:"flex flex-col gap-4 w-full",onSubmit:async e=>{e.preventDefault();let a=new Request("/adapt",{method:"POST",headers:{"Content-Type":"text/caddyfile"},body:new FormData(e.target).get("config")}),s=await fetch(a);l(await s.json())},children:[(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{children:"Put your Caddyfile here"}),(0,s.jsx)("textarea",{name:"config",className:"textarea textarea-primary w-full min-h-64"})]}),(0,s.jsx)("div",{className:"flex gap-4",children:(0,s.jsx)("button",{className:"btn btn-primary btn-sm rounded-xl",children:"Convert"})})]}),(0,s.jsxs)("div",{className:"flex flex-col w-full",children:[(0,s.jsx)("h3",{children:"JSON config"}),(0,s.jsx)("textarea",{className:"textarea textarea-primary w-full min-h-64",value:(null==a?void 0:a.result)!=null?JSON.stringify(a.result,null,2):"",readOnly:!0})]})]})]})})}},2914:(e,a,l)=>{"use strict";l.d(a,{SaveConfig:()=>r});var s=l(5155),t=l(2115);let r=()=>{let[e,a]=(0,t.useState)();(0,t.useEffect)(()=>{(async()=>{let e=await fetch("/config/");a(await e.json())})()},[]);let l=(0,t.useRef)(),r=(0,t.useCallback)(async e=>{e.preventDefault();let a=new Request("/load",{method:"POST",headers:{"Content-Type":"application/json"},body:new FormData(e.target).get("config")}),s=await fetch(a);await s.text(),l.current.showModal()},[l.current]);return(0,s.jsx)("div",{className:"card shadow-lg shadow-primary m-4",children:(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsx)("h3",{className:"card-title",children:"Setup"}),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("form",{className:"flex flex-col gap-4",onSubmit:r,children:[(0,s.jsxs)("fieldset",{children:[(0,s.jsx)("legend",{children:"Save config to caddy server"}),null!=e?(0,s.jsx)("textarea",{name:"config",className:"textarea textarea-primary w-full min-h-64",placeholder:"Put your config file here",defaultValue:JSON.stringify(e,null,2)}):(0,s.jsx)("div",{className:"loading"})]}),(0,s.jsx)("div",{className:"flex gap-4",children:(0,s.jsx)("button",{className:"btn btn-primary btn-sm rounded-xl",children:"Setup"})})]}),(0,s.jsxs)("dialog",{ref:l,className:"modal",children:[(0,s.jsxs)("div",{className:"modal-box",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-success",children:"Success!"}),(0,s.jsx)("p",{className:"py-4",children:"Config saved"}),(0,s.jsx)("form",{method:"dialog",className:"modal-action",children:(0,s.jsx)("button",{className:"btn btn-primary btn-sm rounded-xl",children:"Close"})})]}),(0,s.jsx)("form",{method:"dialog",className:"modal-backdrop",children:(0,s.jsx)("button",{children:"close"})})]})]})]})})}},4280:(e,a,l)=>{Promise.resolve().then(l.bind(l,2554)),Promise.resolve().then(l.bind(l,2914)),Promise.resolve().then(l.t.bind(l,6874,23))}},e=>{e.O(0,[874,441,964,358],()=>e(e.s=4280)),_N_E=e.O()}]);