(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[258],{1258:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(5155),i=r(2115),o=r(689),l=r(5025);let a=()=>{let e=(0,i.useRef)();return(0,i.useEffect)(()=>{if(!e.current)return;let t=new o.Terminal({cursorBlink:!0,cursorStyle:"block",fontSize:14,fontFamily:"Courier New, monospace",theme:{background:"#000000",foreground:"#ffffff",cursor:"#ffffff",black:"#000000",red:"#ff0000",green:"#00ff00",yellow:"#ffff00",blue:"#0000ff",magenta:"#ff00ff",cyan:"#00ffff",white:"#ffffff",brightBlack:"#808080",brightRed:"#ff8080",brightGreen:"#80ff80",brightYellow:"#ffff80",brightBlue:"#8080ff",brightMagenta:"#ff80ff",brightCyan:"#80ffff",brightWhite:"#ffffff"},allowTransparency:!1,convertEol:!0,scrollback:1e4,tabStopWidth:4}),r=new l.FitAddon;t.loadAddon(r),e.current.innerHTML="",t.open(e.current),r.fit();let n=null,i=null;function a(){let e=t.cols,r=t.rows;if(n&&n.readyState===WebSocket.OPEN){let t=new Uint8Array(5);t[0]=1,t[1]=r>>8&255,t[2]=255&r,t[3]=e>>8&255,t[4]=255&e,n.send(t)}}t.onData(function(e){if(n&&n.readyState===WebSocket.OPEN){let t=btoa(String.fromCharCode(...new TextEncoder().encode(e)));n.send(t)}}),t.onResize(function(e){a()}),window.addEventListener("resize",function(){r.fit()}),window.addEventListener("beforeunload",function(){i&&clearTimeout(i),n&&n.close()}),new ResizeObserver(function(){r.fit()}).observe(e.current),function e(){(n=new WebSocket("/ws/pty")).onopen=function(){t.write("\r\n\x1b[32mConnected to terminal server\x1b[0m\r\n"),a()},n.onmessage=function(e){if(e.data instanceof ArrayBuffer)t.write(new Uint8Array(e.data));else{var r;let n=(r=e.data,new TextDecoder().decode(Uint8Array.from(atob(r),e=>e.charCodeAt(0))));32>n.charCodeAt(0)&&(n=function(e){let t=atob(e),r=t.length,n=new Uint8Array(r);for(let e=0;e<r;e++)n[e]=t.charCodeAt(e);return n}(e.data)),t.write(n)}},n.onclose=function(){t.write("\r\n\x1b[31mConnection closed. Attempting to reconnect...\x1b[0m\r\n"),i=setTimeout(e,3e3)},n.onerror=function(e){t.write("\r\n\x1b[31mWebSocket error: "+e+"\x1b[0m\r\n")}}(),t.write("\x1b[36mInitializing terminal emulator...\x1b[0m\r\n")},[e.current]),(0,n.jsx)("div",{ref:e,className:"w-full h-full m-4 flex flex-1",children:(0,n.jsx)("div",{children:"Loading Ternimal ..."})})}},5025:e=>{self,e.exports=(()=>{"use strict";var e={};return Object.defineProperty(e,"__esModule",{value:!0}),e.FitAddon=void 0,e.FitAddon=class{activate(e){this._terminal=e}dispose(){}fit(){let e=this.proposeDimensions();if(!e||!this._terminal||isNaN(e.cols)||isNaN(e.rows))return;let t=this._terminal._core;this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(t._renderService.clear(),this._terminal.resize(e.cols,e.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;let e=this._terminal._core,t=e._renderService.dimensions;if(0===t.css.cell.width||0===t.css.cell.height)return;let r=0===this._terminal.options.scrollback?0:e.viewport.scrollBarWidth,n=window.getComputedStyle(this._terminal.element.parentElement),i=parseInt(n.getPropertyValue("height")),o=Math.max(0,parseInt(n.getPropertyValue("width"))),l=window.getComputedStyle(this._terminal.element),a=i-(parseInt(l.getPropertyValue("padding-top"))+parseInt(l.getPropertyValue("padding-bottom")));return{cols:Math.max(2,Math.floor((o-(parseInt(l.getPropertyValue("padding-right"))+parseInt(l.getPropertyValue("padding-left")))-r)/t.css.cell.width)),rows:Math.max(1,Math.floor(a/t.css.cell.height))}}},e})()}}]);